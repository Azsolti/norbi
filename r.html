class Competitor(models.Model): 
 
    CATEGORIES = [
        ('OTVR', 'OTVR'),
        ('E-Glider', 'E-Glider'),
        ('ALOT', 'ALOT'),
        ('ELOT', 'ELOT'),
        ('E-Rubber', 'E-Rubber'),
        ('Texaco', 'Texaco'), # --> 3 rounds
        ('ALOT Junior', 'ALOT Junior'),
        ('E-Rubber Junior', 'E-Rubber Junior'),
        ]
     LUNCH_CHOICES = [
        (0, '0'),
        (1, '1'),
        (2, '2'),
        (3, '3'),
        (4, '4'),
        (5, '5'),
    ]
 
    competitor_name = models.CharField(max_length=100, blank=False )
    plane_name = models.CharField(max_length=100, blank=False)
    category = models.Charfield(max_length=100, choices=CATEGORIES, default="OTVR")
    lunch_amout = models.IntegerField(choices=LUNCH_CHOICES, default=0)
    time_1 = models.IntegerField(default=0, blank=True)
    time_2 = models.IntegerField(default=0, blank=True)
    time_3 = models.IntegerField(default=0, blank=True)
    time_4 = models.IntegerField(default=0, blank=True)
    time_5 = models.IntegerField(default=0, blank=True)
    time_6 = models.IntegerField(default=0, blank=True)
    flyoff_time = models.IntegerField(default=0)
    
    """def calculate_result_round_3(self):
        times = [self.time_1, self.time_2, self.time_3]
        times.sort()
        return sum(times[1:]) + self.flyoff_time    
       
    result_3 = calculate_result_round_3()
    
    def calculate_result_round_4(self):
        times = [self.time_1, self.time_2, self.time_3,self.time_4]
        times.sort()
        return sum(times[1:]) + self.flyoff_time    
       
    result_4 = calculate_result_round_4()
    
    def calculate_result_round_5(self):
        times = [self.time_1, self.time_2, self.time_3,self.time_4,self.time_5]
        times.sort()
        return sum(times[2:]) + self.flyoff_time    
       
    result_5 = calculate_result_round_5()
    
    def calculate_result_round_6(self):
        times = [self.time_1, self.time_2, self.time_3,self.time_4, self.time_5,self.time_6]
        times.sort()
        return sum(times[2:]) + self.flyoff_time    
       
    result_6 = calculate_result_round_6()"""
    
class Competition(models.Model):
     ROUNDS_CHOICES = [
        (1, '1'),
        (2, '2'),
        (3, '3'),
        (4, '4'),
        (5, '5'),
        (6, '6'),
    ]

    name = models.CharField(max_length=100, blank=False)
    date = models.CharField(max_length=100, blank=False)
    location = models.CharField(max_length=100, blank=False)
    max_rounds = models.IntegerField(default=1, blank=False, choices=ROUNDS_CHOICES)
    competitor = models.ManyToManyField(Competitor, related_name="competitions")

